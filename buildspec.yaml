version: 0.2
phases:
  build:
    commands:
      - dotnet restore
      - dotnet build
      - > 
        aws cloudformation package 
        --template-file lambdatemplate.yaml 
        --s3-bucket "david-ting-dn-lambda-deployment-artifacts"
        --output-template-file outputtemplate.yaml
      
artifacts:
  type: zip
  files:
    - ./bin/Debug/netcoreapp3.1
    - lambdatemplate.yaml
    - outputtemplate.yaml